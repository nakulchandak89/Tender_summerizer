{"ast":null,"code":"import axios from\"axios\";import React,{useState,useEffect,useCallback}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import\"./delete.css\";import Message from\"../../components/message/Message\";import Header from\"../../components/header/Header\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Delete(){const navigate=useNavigate();const{id}=useParams();const[employee,setEmployee]=useState({employeeId:\"\",firstName:\"\",lastName:\"\",department:\"\",rfidBadgeNumber:\"\",imagePic:\"\"});const[message,setMessage]=useState({show:false,msg:\"\",type:\"\"});// ✅ Function to show or hide messages\nconst showMessage=useCallback(function(){let show=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";let msg=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"\";setMessage({show,type,msg});if(show){setTimeout(()=>setMessage({show:false,msg:\"\",type:\"\"}),3000);}},[]);// ✅ Fetch employee data\nconst getEmployee=useCallback(async()=>{try{const res=await axios.get(`http://localhost:5000/api/employees/${id}`);setEmployee(res.data);}catch(error){showMessage(true,\"error\",\"Failed to fetch employee data.\");}},[id]);useEffect(()=>{getEmployee();},[getEmployee]);// ✅ Handle employee deletion\nconst handleDelete=async e=>{e.preventDefault();try{await axios.delete(`http://localhost:5000/api/employees/${id}`);showMessage(true,\"success\",\"Successfully deleted employee.\");setTimeout(()=>navigate(\"/\"),2000);}catch(error){showMessage(true,\"error\",\"Failed to delete employee.\");}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Delete Employee\"})}),/*#__PURE__*/_jsx(\"section\",{className:\"managePage\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"editForm\",onSubmit:handleDelete,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imgColumn\",children:/*#__PURE__*/_jsx(\"img\",{src:employee.imagePic?`http://localhost:5000/${employee.imagePic}`:\"http://localhost:5000/images/defaultPic.png\",alt:\"Profile Pic\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"fieldsColumn\",children:Object.entries(employee).map(_ref=>{let[key,value]=_ref;return key!==\"imagePic\"?/*#__PURE__*/_jsxs(\"div\",{className:\"fieldRow\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:key,className:\"fieldLabel\",children:key.replace(/([A-Z])/g,\" $1\")}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:key,value:value,readOnly:true,className:\"deleteInputs\"})]},key):null;})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btnContainer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bottomButton\",children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"bottomButton\",onClick:()=>navigate(\"/\"),children:\"Back\"})]}),message.show&&/*#__PURE__*/_jsx(Message,{...message,removeMessage:showMessage})]})})]});}","map":{"version":3,"names":["axios","React","useState","useEffect","useCallback","useNavigate","useParams","Message","Header","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Delete","navigate","id","employee","setEmployee","employeeId","firstName","lastName","department","rfidBadgeNumber","imagePic","message","setMessage","show","msg","type","showMessage","arguments","length","undefined","setTimeout","getEmployee","res","get","data","error","handleDelete","e","preventDefault","delete","children","className","onSubmit","src","alt","Object","entries","map","_ref","key","value","htmlFor","replace","readOnly","onClick","removeMessage"],"sources":["D:/project/RFID-Based-Attendance-System/frontend/src/pages/delete/Delete.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport \"./delete.css\";\r\nimport Message from \"../../components/message/Message\";\r\nimport Header from \"../../components/header/Header\";\r\n\r\nexport default function Delete() {\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  const [employee, setEmployee] = useState({\r\n    employeeId: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    department: \"\",\r\n    rfidBadgeNumber: \"\",\r\n    imagePic: \"\",\r\n  });\r\n\r\n  const [message, setMessage] = useState({\r\n    show: false,\r\n    msg: \"\",\r\n    type: \"\",\r\n  });\r\n\r\n  // ✅ Function to show or hide messages\r\n  const showMessage = useCallback((show = false, type = \"\", msg = \"\") => {\r\n    setMessage({ show, type, msg });\r\n    if (show) {\r\n      setTimeout(() => setMessage({ show: false, msg: \"\", type: \"\" }), 3000);\r\n    }\r\n  }, []);\r\n\r\n  // ✅ Fetch employee data\r\n  const getEmployee = useCallback(async () => {\r\n    try {\r\n      const res = await axios.get(`http://localhost:5000/api/employees/${id}`);\r\n      setEmployee(res.data);\r\n    } catch (error) {\r\n      showMessage(true, \"error\", \"Failed to fetch employee data.\");\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    getEmployee();\r\n  }, [getEmployee]);\r\n\r\n  // ✅ Handle employee deletion\r\n  const handleDelete = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.delete(`http://localhost:5000/api/employees/${id}`);\r\n      showMessage(true, \"success\", \"Successfully deleted employee.\");\r\n      setTimeout(() => navigate(\"/\"), 2000);\r\n    } catch (error) {\r\n      showMessage(true, \"error\", \"Failed to delete employee.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"header\">\r\n        <h1>Delete Employee</h1>\r\n      </div>\r\n      <section className=\"managePage\">\r\n        <form className=\"editForm\" onSubmit={handleDelete}>\r\n          <div className=\"fields\">\r\n            <div className=\"imgColumn\">\r\n              <img\r\n                src={employee.imagePic ? `http://localhost:5000/${employee.imagePic}` : \"http://localhost:5000/images/defaultPic.png\"}\r\n                alt=\"Profile Pic\"\r\n              />\r\n            </div>\r\n            <div className=\"fieldsColumn\">\r\n              {Object.entries(employee).map(([key, value]) =>\r\n                key !== \"imagePic\" ? (\r\n                  <div className=\"fieldRow\" key={key}>\r\n                    <label htmlFor={key} className=\"fieldLabel\">{key.replace(/([A-Z])/g, \" $1\")}</label>\r\n                    <input type=\"text\" id={key} value={value} readOnly className=\"deleteInputs\" />\r\n                  </div>\r\n                ) : null\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"btnContainer\">\r\n            <button type=\"submit\" className=\"bottomButton\">Delete</button>\r\n            <button type=\"button\" className=\"bottomButton\" onClick={() => navigate(\"/\")}>Back</button>\r\n          </div>\r\n          {message.show && <Message {...message} removeMessage={showMessage} />}\r\n        </form>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}